install OpenDaylight on Ubuntu LTS 18.04
========================================

sudo apt-get update
sudo apt-get -y install unzip vim wget openjdk-8-jre

sudo update-alternatives --config java
/usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java

echo 'export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/' >> ~/.bashrc
source ~/.bashrc
echo $JAVA_HOME

wget https://nexus.opendaylight.org/content/repositories/opendaylight.release/org/opendaylight/integration/karaf/0.8.4/karaf-0.8.4.zip

sudo mkdir /usr/local/karaf
sudo mv karaf-0.8.4.zip /usr/local/karaf
sudo unzip /usr/local/karaf/karaf-0.8.4.zip -d /usr/local/karaf/

$ sudo update-alternatives --install /usr/bin/karaf karaf /usr/local/karaf/karaf-0.8.4/bin/karaf 1

sudo update-alternatives --config karaf
which karaf

sudo -E karaf

opendaylight-user@root>feature:install odl-l2switch-switch-ui
opendaylight-user@root>feature:install odl-l2switch-switch
opendaylight-user@root>feature:install odl-mdsal-apidocs
opendaylight-user@root>feature:install odl-dlux-all
sudo netstat -an | grep 8181
http://8.7.6.5:8181/index.html#/login

mininet$ ./start-mininet-network.sh
 
sudo update-alternatives --install /usr/bin/stop stop /usr/local/karaf/karaf-0.8.4/bin/stop 1
sudo update-alternatives --config stop
which stop

sudo vim /etc/systemd/system/opendaylight.service
[Unit]
Description=OpenDaylight Controller
After=network.target

[Service]
Type=simple
User=root
Group=root
Environment="JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/jre"
ExecStart=/usr/bin/karaf server
ExecStop=/usr/bin/stop
Restart=on-failure
RestartSec=60s

[Install]
WantedBy=multi-user.target

sudo chmod 0644 /etc/systemd/system/opendaylight.service

systemctl daemon-reload
sudo systemctl enable opendaylight.service
sudo systemctl status opendaylight
sudo systemctl start opendaylight

ps -ef | grep karaf

